[project]
name = "Synaptipy"
version = "0.1.0"
description = "Electrophysiology Visualization Suite"
requires-python = ">=3.9"

# ==============================================================================
# COMPLETE DEPENDENCY MANAGEMENT
# ==============================================================================
# 
# This project uses setup.py for automatic dependency installation
# ALL dependencies are installed via conda-forge for consistency
dependencies = [
    "numpy>=1.23.5",
    # --- GUI and Plotting ---
    "PySide6>=6.5.0",
    "pyqtgraph>=0.13.3",
    # --- Core/Infra ---
    "neo>=0.12.0",
    "scipy",
    # --- Export ---
    "pynwb>=2.5.0",
    "tzlocal", # Recommended for timezone handling in NWB
]

# ==============================================================================
# AUTOMATIC INSTALLATION FEATURES
# ==============================================================================
# 
# âœ… SINGLE COMMAND INSTALLATION: pip install -e .
# âœ… AUTOMATIC ALL-DEPENDENCY INSTALLATION via conda-forge
# âœ… CROSS-PLATFORM SUPPORT (Windows, macOS, Linux)
# âœ… INTELLIGENT DEPENDENCY RESOLUTION
#
# The setup.py automatically:
# 1. Installs ALL dependencies via conda-forge (same source as working env)
# 2. Falls back to pip if conda is not available
# 3. Verifies Qt6 functionality after installation
# 4. Ensures full GUI functionality

[project.scripts]
synaptipy-gui = "Synaptipy.application.__main__:run_gui"

# ==============================================================================
# DEVELOPMENT AND OPTIONAL DEPENDENCIES
# ==============================================================================
[project.optional-dependencies]
dev = [
    # Testing
    "pytest>=7.0.0",
    "pytest-qt>=4.0.0",
    "pytest-mock",
    "pytest-cov",
    
    # Linting & Formatting
    "flake8",
    "black",
    "isort",
    
    # Building & Distribution
    "build",
    "twine",
    
    # Documentation
    "sphinx",
    "sphinx-rtd-theme",
]

# GUI-specific dependencies (already included in main dependencies)
gui = [
    "PySide6>=6.5.0",
    "pyqtgraph>=0.13.3",
]

# Full installation with all dependencies
full = [
    "numpy>=1.23.5",
    "PySide6>=6.5.0",
    "pyqtgraph>=0.13.3",
    "neo>=0.12.0",
    "scipy",
    "pynwb>=2.5.0",
    "tzlocal",
]

# Testing dependencies
test = [
    "pytest>=7.0.0",
    "pytest-qt>=4.0.0",
    "pytest-mock",
    "pytest-cov",
]

# ==============================================================================
# BUILD SYSTEM CONFIGURATION
# ==============================================================================
[build-system]
requires = ["setuptools>=61.0", "wheel"]
build-backend = "setuptools.build_meta"

# ==============================================================================
# PROJECT METADATA
# ==============================================================================
[project.urls]
Homepage = "https://github.com/anzalks/synaptipy"
Repository = "https://github.com/anzalks/synaptipy"
Documentation = "https://github.com/anzalks/synaptipy/docs"
Issues = "https://github.com/anzalks/synaptipy/issues"

# ==============================================================================
# INSTALLATION INSTRUCTIONS
# ==============================================================================
# 
# ðŸš€ ONE COMMAND INSTALLATION:
#    pip install -e .
#
# ðŸ”§ AUTOMATIC DEPENDENCY INSTALLATION:
#    All dependencies are automatically installed via conda-forge
#    This ensures consistency with the working synaptipy environment
#
# ðŸ“¦ ENVIRONMENT SETUP:
#    conda create -n myenv python=3.9
#    conda activate myenv
#    pip install -e .
#
# âœ… VERIFICATION:
#    python test_setup.py
#    synaptipy-gui